class DBHelper{static get NEW_URL(){return"http://localhost:1337/restaurants"}static fetchRestaurantById(t,e){IDbOperationsHelper.getRestaurantsData((a,l)=>{if(a)e(a,null);else{const a=l.find(e=>e.id==t);a?e(null,a):e("Restaurant does not exist",null)}})}static fetchRestaurantByCuisine(t,e){IDbOperationsHelper.getRestaurantsData((a,l)=>{if(a)e(a,null);else{const a=l.filter(e=>e.cuisine_type==t);e(null,a)}})}static fetchRestaurantByNeighborhood(t,e){IDbOperationsHelper.getRestaurantsData((a,l)=>{if(a)e(a,null);else{const a=l.filter(e=>e.neighborhood==t);e(null,a)}})}static fetchRestaurantByCuisineAndNeighborhood(t,e,a){IDbOperationsHelper.getRestaurantsData((l,n)=>{if(l)a(l,null);else{let l=n;"all"!=t&&(l=l.filter(e=>e.cuisine_type==t)),"all"!=e&&(l=l.filter(t=>t.neighborhood==e)),a(null,l)}})}static fetchNeighborhoods(t){IDbOperationsHelper.getRestaurantsData((e,a)=>{if(e)t(e,null);else{const e=a.map((t,e)=>a[e].neighborhood),l=e.filter((t,a)=>e.indexOf(t)==a);t(null,l)}})}static fetchCuisines(t){IDbOperationsHelper.getRestaurantsData((e,a)=>{if(e)t(e,null);else{const e=a.map((t,e)=>a[e].cuisine_type),l=e.filter((t,a)=>e.indexOf(t)==a);t(null,l)}})}static urlForRestaurant(t){return`./restaurant.html?id=${t.id}`}static imageUrlForRestaurant(t){return`/img/${t.photograph}`}static mapMarkerForRestaurant(t,e){const a=new L.marker([t.latlng.lat,t.latlng.lng],{title:t.name,alt:t.name,url:DBHelper.urlForRestaurant(t)});return a.addTo(newMap),a}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiaGVscGVyLmpzIl0sIm5hbWVzIjpbIkRCSGVscGVyIiwiTkVXX1VSTCIsIltvYmplY3QgT2JqZWN0XSIsImlkIiwiY2FsbGJhY2siLCJJRGJPcGVyYXRpb25zSGVscGVyIiwiZ2V0UmVzdGF1cmFudHNEYXRhIiwiZXJyb3IiLCJyZXN0YXVyYW50cyIsInJlc3RhdXJhbnQiLCJmaW5kIiwiciIsImN1aXNpbmUiLCJyZXN1bHRzIiwiZmlsdGVyIiwiY3Vpc2luZV90eXBlIiwibmVpZ2hib3Job29kIiwibmVpZ2hib3Job29kcyIsIm1hcCIsInYiLCJpIiwidW5pcXVlTmVpZ2hib3Job29kcyIsImluZGV4T2YiLCJjdWlzaW5lcyIsInVuaXF1ZUN1aXNpbmVzIiwicGhvdG9ncmFwaCIsIm1hcmtlciIsIkwiLCJsYXRsbmciLCJsYXQiLCJsbmciLCJ0aXRsZSIsIm5hbWUiLCJhbHQiLCJ1cmwiLCJ1cmxGb3JSZXN0YXVyYW50IiwiYWRkVG8iLCJuZXdNYXAiXSwibWFwcGluZ3MiOiJBQUNBLE1BQU1BLFNBQ0xDLHFCQUNDLE1BQU8sb0NBS1JDLDJCQUEyQkMsRUFBSUMsR0FFOUJDLG9CQUFvQkMsbUJBQW1CLENBQUNDLEVBQU9DLEtBQzlDLEdBQUlELEVBQ0hILEVBQVNHLEVBQU8sVUFDVixDQUNOLE1BQU1FLEVBQWFELEVBQVlFLEtBQUtDLEdBQUtBLEVBQUVSLElBQU1BLEdBQzdDTSxFQUVITCxFQUFTLEtBQU1LLEdBR2ZMLEVBQVMsNEJBQTZCLFNBUzFDRixnQ0FBZ0NVLEVBQVNSLEdBRXhDQyxvQkFBb0JDLG1CQUFtQixDQUFDQyxFQUFPQyxLQUM5QyxHQUFJRCxFQUNISCxFQUFTRyxFQUFPLFVBQ1YsQ0FFTixNQUFNTSxFQUFVTCxFQUFZTSxPQUFPSCxHQUFLQSxFQUFFSSxjQUFnQkgsR0FDMURSLEVBQVMsS0FBTVMsTUFRbEJYLHFDQUFxQ2MsRUFBY1osR0FFbERDLG9CQUFvQkMsbUJBQW1CLENBQUNDLEVBQU9DLEtBQzlDLEdBQUlELEVBQ0hILEVBQVNHLEVBQU8sVUFDVixDQUVOLE1BQU1NLEVBQVVMLEVBQVlNLE9BQU9ILEdBQUtBLEVBQUVLLGNBQWdCQSxHQUMxRFosRUFBUyxLQUFNUyxNQVFsQlgsK0NBQ0NVLEVBQ0FJLEVBQ0FaLEdBR0FDLG9CQUFvQkMsbUJBQW1CLENBQUNDLEVBQU9DLEtBQzlDLEdBQUlELEVBQ0hILEVBQVNHLEVBQU8sVUFDVixDQUNOLElBQUlNLEVBQVVMLEVBQ0MsT0FBWEksSUFFSEMsRUFBVUEsRUFBUUMsT0FBT0gsR0FBS0EsRUFBRUksY0FBZ0JILElBRTdCLE9BQWhCSSxJQUVISCxFQUFVQSxFQUFRQyxPQUFPSCxHQUFLQSxFQUFFSyxjQUFnQkEsSUFFakRaLEVBQVMsS0FBTVMsTUFRbEJYLDBCQUEwQkUsR0FFekJDLG9CQUFvQkMsbUJBQW1CLENBQUNDLEVBQU9DLEtBQzlDLEdBQUlELEVBQ0hILEVBQVNHLEVBQU8sVUFDVixDQUVOLE1BQU1VLEVBQWdCVCxFQUFZVSxJQUNqQyxDQUFDQyxFQUFHQyxJQUFNWixFQUFZWSxHQUFHSixjQUdwQkssRUFBc0JKLEVBQWNILE9BQ3pDLENBQUNLLEVBQUdDLElBQU1ILEVBQWNLLFFBQVFILElBQU1DLEdBRXZDaEIsRUFBUyxLQUFNaUIsTUFRbEJuQixxQkFBcUJFLEdBRXBCQyxvQkFBb0JDLG1CQUFtQixDQUFDQyxFQUFPQyxLQUM5QyxHQUFJRCxFQUNISCxFQUFTRyxFQUFPLFVBQ1YsQ0FFTixNQUFNZ0IsRUFBV2YsRUFBWVUsSUFBSSxDQUFDQyxFQUFHQyxJQUFNWixFQUFZWSxHQUFHTCxjQUVwRFMsRUFBaUJELEVBQVNULE9BQy9CLENBQUNLLEVBQUdDLElBQU1HLEVBQVNELFFBQVFILElBQU1DLEdBRWxDaEIsRUFBUyxLQUFNb0IsTUFRbEJ0Qix3QkFBd0JPLEdBQ3ZCLDhCQUErQkEsRUFBV04sS0FNM0NELDZCQUE2Qk8sR0FDNUIsY0FBZUEsRUFBV2dCLGFBTTNCdkIsOEJBQThCTyxFQUFZUyxHQUN6QyxNQUFNUSxFQUFTLElBQUlDLEVBQUVELE9BQ3BCLENBQUNqQixFQUFXbUIsT0FBT0MsSUFBS3BCLEVBQVdtQixPQUFPRSxLQUMxQyxDQUNDQyxNQUFPdEIsRUFBV3VCLEtBQ2xCQyxJQUFLeEIsRUFBV3VCLEtBQ2hCRSxJQUFLbEMsU0FBU21DLGlCQUFpQjFCLEtBSWpDLE9BREFpQixFQUFPVSxNQUFNQyxRQUNOWCIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvbW1vbiBkYXRhYmFzZSBoZWxwZXIgZnVuY3Rpb25zLlxuY2xhc3MgREJIZWxwZXIge1xuXHRzdGF0aWMgZ2V0IE5FV19VUkwoKSB7XG5cdFx0cmV0dXJuICdodHRwOi8vbG9jYWxob3N0OjEzMzcvcmVzdGF1cmFudHMnO1xuXHR9XG5cdC8qKlxuICAgICAqIEZldGNoIGEgcmVzdGF1cmFudCBieSBpdHMgSUQuXG4gICAgICovXG5cdHN0YXRpYyBmZXRjaFJlc3RhdXJhbnRCeUlkKGlkLCBjYWxsYmFjaykge1xuXHRcdC8vIGZldGNoIGFsbCByZXN0YXVyYW50cyB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZy5cblx0XHRJRGJPcGVyYXRpb25zSGVscGVyLmdldFJlc3RhdXJhbnRzRGF0YSgoZXJyb3IsIHJlc3RhdXJhbnRzKSA9PiB7XG5cdFx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdFx0Y2FsbGJhY2soZXJyb3IsIG51bGwpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgcmVzdGF1cmFudCA9IHJlc3RhdXJhbnRzLmZpbmQociA9PiByLmlkID09IGlkKTtcblx0XHRcdFx0aWYgKHJlc3RhdXJhbnQpIHtcblx0XHRcdFx0XHQvLyBHb3QgdGhlIHJlc3RhdXJhbnRcblx0XHRcdFx0XHRjYWxsYmFjayhudWxsLCByZXN0YXVyYW50KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBSZXN0YXVyYW50IGRvZXMgbm90IGV4aXN0IGluIHRoZSBkYXRhYmFzZVxuXHRcdFx0XHRcdGNhbGxiYWNrKCdSZXN0YXVyYW50IGRvZXMgbm90IGV4aXN0JywgbnVsbCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuICAgICAqIEZldGNoIHJlc3RhdXJhbnRzIGJ5IGEgY3Vpc2luZSB0eXBlIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nLlxuICAgICAqL1xuXHRzdGF0aWMgZmV0Y2hSZXN0YXVyYW50QnlDdWlzaW5lKGN1aXNpbmUsIGNhbGxiYWNrKSB7XG5cdFx0Ly8gRmV0Y2ggYWxsIHJlc3RhdXJhbnRzICB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZ1xuXHRcdElEYk9wZXJhdGlvbnNIZWxwZXIuZ2V0UmVzdGF1cmFudHNEYXRhKChlcnJvciwgcmVzdGF1cmFudHMpID0+IHtcblx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRjYWxsYmFjayhlcnJvciwgbnVsbCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBGaWx0ZXIgcmVzdGF1cmFudHMgdG8gaGF2ZSBvbmx5IGdpdmVuIGN1aXNpbmUgdHlwZVxuXHRcdFx0XHRjb25zdCByZXN1bHRzID0gcmVzdGF1cmFudHMuZmlsdGVyKHIgPT4gci5jdWlzaW5lX3R5cGUgPT0gY3Vpc2luZSk7XG5cdFx0XHRcdGNhbGxiYWNrKG51bGwsIHJlc3VsdHMpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG4gICAgICogRmV0Y2ggcmVzdGF1cmFudHMgYnkgYSBuZWlnaGJvcmhvb2Qgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXG4gICAgICovXG5cdHN0YXRpYyBmZXRjaFJlc3RhdXJhbnRCeU5laWdoYm9yaG9vZChuZWlnaGJvcmhvb2QsIGNhbGxiYWNrKSB7XG5cdFx0Ly8gRmV0Y2ggYWxsIHJlc3RhdXJhbnRzXG5cdFx0SURiT3BlcmF0aW9uc0hlbHBlci5nZXRSZXN0YXVyYW50c0RhdGEoKGVycm9yLCByZXN0YXVyYW50cykgPT4ge1xuXHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdGNhbGxiYWNrKGVycm9yLCBudWxsKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIEZpbHRlciByZXN0YXVyYW50cyB0byBoYXZlIG9ubHkgZ2l2ZW4gbmVpZ2hib3Job29kXG5cdFx0XHRcdGNvbnN0IHJlc3VsdHMgPSByZXN0YXVyYW50cy5maWx0ZXIociA9PiByLm5laWdoYm9yaG9vZCA9PSBuZWlnaGJvcmhvb2QpO1xuXHRcdFx0XHRjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuICAgICAqIEZldGNoIHJlc3RhdXJhbnRzIGJ5IGEgY3Vpc2luZSBhbmQgYSBuZWlnaGJvcmhvb2Qgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXG4gICAgICovXG5cdHN0YXRpYyBmZXRjaFJlc3RhdXJhbnRCeUN1aXNpbmVBbmROZWlnaGJvcmhvb2QoXG5cdFx0Y3Vpc2luZSxcblx0XHRuZWlnaGJvcmhvb2QsXG5cdFx0Y2FsbGJhY2tcblx0KSB7XG5cdFx0Ly8gRmV0Y2ggYWxsIHJlc3RhdXJhbnRzXG5cdFx0SURiT3BlcmF0aW9uc0hlbHBlci5nZXRSZXN0YXVyYW50c0RhdGEoKGVycm9yLCByZXN0YXVyYW50cykgPT4ge1xuXHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdGNhbGxiYWNrKGVycm9yLCBudWxsKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxldCByZXN1bHRzID0gcmVzdGF1cmFudHM7XG5cdFx0XHRcdGlmIChjdWlzaW5lICE9ICdhbGwnKSB7XG5cdFx0XHRcdFx0Ly8gZmlsdGVyIGJ5IGN1aXNpbmVcblx0XHRcdFx0XHRyZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIociA9PiByLmN1aXNpbmVfdHlwZSA9PSBjdWlzaW5lKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobmVpZ2hib3Job29kICE9ICdhbGwnKSB7XG5cdFx0XHRcdFx0Ly8gZmlsdGVyIGJ5IG5laWdoYm9yaG9vZFxuXHRcdFx0XHRcdHJlc3VsdHMgPSByZXN1bHRzLmZpbHRlcihyID0+IHIubmVpZ2hib3Job29kID09IG5laWdoYm9yaG9vZCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2FsbGJhY2sobnVsbCwgcmVzdWx0cyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcbiAgICAgKiBGZXRjaCBhbGwgbmVpZ2hib3Job29kcyB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZy5cbiAgICAgKi9cblx0c3RhdGljIGZldGNoTmVpZ2hib3Job29kcyhjYWxsYmFjaykge1xuXHRcdC8vIEZldGNoIGFsbCByZXN0YXVyYW50c1xuXHRcdElEYk9wZXJhdGlvbnNIZWxwZXIuZ2V0UmVzdGF1cmFudHNEYXRhKChlcnJvciwgcmVzdGF1cmFudHMpID0+IHtcblx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRjYWxsYmFjayhlcnJvciwgbnVsbCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBHZXQgYWxsIG5laWdoYm9yaG9vZHMgZnJvbSBhbGwgcmVzdGF1cmFudHNcblx0XHRcdFx0Y29uc3QgbmVpZ2hib3Job29kcyA9IHJlc3RhdXJhbnRzLm1hcChcblx0XHRcdFx0XHQodiwgaSkgPT4gcmVzdGF1cmFudHNbaV0ubmVpZ2hib3Job29kXG5cdFx0XHRcdCk7XG5cdFx0XHRcdC8vIFJlbW92ZSBkdXBsaWNhdGVzIGZyb20gbmVpZ2hib3Job29kc1xuXHRcdFx0XHRjb25zdCB1bmlxdWVOZWlnaGJvcmhvb2RzID0gbmVpZ2hib3Job29kcy5maWx0ZXIoXG5cdFx0XHRcdFx0KHYsIGkpID0+IG5laWdoYm9yaG9vZHMuaW5kZXhPZih2KSA9PSBpXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGNhbGxiYWNrKG51bGwsIHVuaXF1ZU5laWdoYm9yaG9vZHMpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG4gICAgICogRmV0Y2ggYWxsIGN1aXNpbmVzIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nLlxuICAgICAqL1xuXHRzdGF0aWMgZmV0Y2hDdWlzaW5lcyhjYWxsYmFjaykge1xuXHRcdC8vIEZldGNoIGFsbCByZXN0YXVyYW50c1xuXHRcdElEYk9wZXJhdGlvbnNIZWxwZXIuZ2V0UmVzdGF1cmFudHNEYXRhKChlcnJvciwgcmVzdGF1cmFudHMpID0+IHtcblx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRjYWxsYmFjayhlcnJvciwgbnVsbCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBHZXQgYWxsIGN1aXNpbmVzIGZyb20gYWxsIHJlc3RhdXJhbnRzXG5cdFx0XHRcdGNvbnN0IGN1aXNpbmVzID0gcmVzdGF1cmFudHMubWFwKCh2LCBpKSA9PiByZXN0YXVyYW50c1tpXS5jdWlzaW5lX3R5cGUpO1xuXHRcdFx0XHQvLyBSZW1vdmUgZHVwbGljYXRlcyBmcm9tIGN1aXNpbmVzXG5cdFx0XHRcdGNvbnN0IHVuaXF1ZUN1aXNpbmVzID0gY3Vpc2luZXMuZmlsdGVyKFxuXHRcdFx0XHRcdCh2LCBpKSA9PiBjdWlzaW5lcy5pbmRleE9mKHYpID09IGlcblx0XHRcdFx0KTtcblx0XHRcdFx0Y2FsbGJhY2sobnVsbCwgdW5pcXVlQ3Vpc2luZXMpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG4gICAgICogUmVzdGF1cmFudCBwYWdlIFVSTC5cbiAgICAgKi9cblx0c3RhdGljIHVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudCkge1xuXHRcdHJldHVybiBgLi9yZXN0YXVyYW50Lmh0bWw/aWQ9JHtyZXN0YXVyYW50LmlkfWA7XG5cdH1cblxuXHQvKipcbiAgICAgKiBSZXN0YXVyYW50IGltYWdlIFVSTC5cbiAgICAgKi9cblx0c3RhdGljIGltYWdlVXJsRm9yUmVzdGF1cmFudChyZXN0YXVyYW50KSB7XG5cdFx0cmV0dXJuIGAvaW1nLyR7cmVzdGF1cmFudC5waG90b2dyYXBofWA7XG5cdH1cblxuXHQvKipcbiAgICAgKiBNYXAgbWFya2VyIGZvciBhIHJlc3RhdXJhbnQuXG4gICAgICovXG5cdHN0YXRpYyBtYXBNYXJrZXJGb3JSZXN0YXVyYW50KHJlc3RhdXJhbnQsIG1hcCkge1xuXHRcdGNvbnN0IG1hcmtlciA9IG5ldyBMLm1hcmtlcihcblx0XHRcdFtyZXN0YXVyYW50LmxhdGxuZy5sYXQsIHJlc3RhdXJhbnQubGF0bG5nLmxuZ10sXG5cdFx0XHR7XG5cdFx0XHRcdHRpdGxlOiByZXN0YXVyYW50Lm5hbWUsXG5cdFx0XHRcdGFsdDogcmVzdGF1cmFudC5uYW1lLFxuXHRcdFx0XHR1cmw6IERCSGVscGVyLnVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudClcblx0XHRcdH1cblx0XHQpO1xuXHRcdG1hcmtlci5hZGRUbyhuZXdNYXApO1xuXHRcdHJldHVybiBtYXJrZXI7XG5cdH1cbn1cbiJdLCJmaWxlIjoiZGJoZWxwZXItbWluLmpzIn0=
